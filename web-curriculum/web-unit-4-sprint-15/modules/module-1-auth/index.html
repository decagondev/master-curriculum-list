<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 1 - Intro to Authentication</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #1a1d23; /* Dark background color */
            color: #ffffff;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: #222831; /* Darker container background */
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        h1, h2, h3, h4 {
            color: #ffffff;
            margin: 0;
        }
        h1 {
            color: #ffffff;
            margin-bottom: 30px;
            border-bottom: 2px solid #ff5722; /* Orange accent color */
            padding-bottom: 10px;
        }
        h2 {
            color: #ffffff;
            margin-top: 30px;
            margin-bottom: 20px;
        }
        h3 {
            color: #ff5722; /* Orange accent color */
            margin-top: 0;
        }
        h4 {
            color: #ffffff;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
        }
        .section {
            margin-bottom: 40px;
            background-color: #2a303c;
            border-radius: 4px;
            padding: 20px;
            border: 1px solid #333a47;
        }
        .section p, .section li {
            color: #b3b3b3;
        }
        ul, ol {
            color: #b3b3b3;
            padding-left: 20px;
        }
        li {
            margin-bottom: 10px;
        }
        .button {
            display: inline-block;
            padding: 8px 16px;
            background-color: #ff5722; /* Orange accent color */
            color: white;
            text-decoration: none;
            border-radius: 4px;
            transition: background-color 0.2s;
        }
        .button:hover {
            background-color: #ff7043; /* Lighter orange on hover */
            box-shadow: 0 0 10px rgba(255, 87, 34, 0.5);
        }
        
        /* Navigation styling */
        nav {
            margin-bottom: 30px;
        }
        nav ul {
            list-style: none;
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            padding: 0;
            margin-top: 20px;
        }
        nav a {
            display: inline-block;
            padding: 8px 16px;
            background-color: #333a47;
            color: white;
            text-decoration: none;
            border-radius: 4px;
            transition: background-color 0.3s;
        }
        nav a:hover {
            background-color: #ff5722;
            box-shadow: 0 0 10px rgba(255, 87, 34, 0.5);
        }
        
        /* Module grid styling */
        .module-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            margin-top: 20px;
        }
        .module-card {
            background-color: #333a47;
            border-radius: 6px;
            padding: 20px;
            border: 1px solid #444c5c;
            transition: transform 0.3s, box-shadow 0.3s;
          display: flex;
  flex-direction: column;
}
        .module-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }
        .module-card h3 {
            margin-top: 0;
            color: #ff5722;
        }
        .module-card p {
            color: #b3b3b3;
          flex-grow: 1;
}
        
        /* Video grid styling */
        .video-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
            margin-top: 20px;
        }
        .video-card {
            background-color: #333a47;
            border-radius: 6px;
            padding: 20px;
            border: 1px solid #444c5c;
            width: 100%;
        }
        .video-container {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 aspect ratio */
            height: 0;
            overflow: hidden;
            margin-bottom: 15px;
        }
        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
            border-radius: 4px;
        }
        
        /* Resources styling */
        .resource-card a {
            color: #ff5722;
            text-decoration: none;
        }
        .resource-card a:hover {
            text-decoration: underline;
        }
        
        .resource-link-list li, .resource-link-list a {
            text-decoration: none;
            color: #ffffff;
        }

        .resource-link-list a:hover {
            text-decoration: underline;
            color: #ff5722;
        }
        
        /* Media queries */
        @media (max-width: 768px) {
            .video-grid, .module-grid {
                grid-template-columns: 1fr;
            }
            nav ul {
                flex-direction: column;
                gap: 0.5rem;
            }
        }
        
        /* Code pre formatting */
        pre {
            background-color: #1a1d23;
            padding: 15px;
            border-radius: 4px;
            overflow-x: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
            font-size: 14px;
            border: 1px solid #444c5c;
        }
        
        code {
            font-family: 'Courier New', Courier, monospace;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Module 1 - Intro to Authentication</h1>

        <div class="section">
            <h2>Introduction to Authentication</h2>
            <p>Authentication is a complex and vital topic in web development. It's complex because new security threats emerge daily, and it's crucial because most of our lives depend on online services and computer systems that hold sensitive data.</p>

            <h2>Learning Objectives</h2>
            <div class="module-grid">
                <div class="module-card">
                    <h3>Authentication Fundamentals</h3>
                    <p>Understand the difference between authentication and authorization, and learn how to implement secure authentication systems.</p>
                </div>
                <div class="module-card">
                    <h3>Password Security</h3>
                    <p>Master password hashing, storage best practices, and protection against common security vulnerabilities.</p>
                </div>
                <div class="module-card">
                    <h3>Session Management</h3>
                    <p>Learn how to implement and manage user sessions securely using modern web technologies.</p>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>Module Content</h2>
            <div class="module-grid">
                <div class="module-card">
                    <h3>Authentication Basics</h3>
                    <ul>
                        <li>What is Authentication?</li>
                        <li>Authentication vs Authorization</li>
                        <li>Common Authentication Methods</li>
                    </ul>
                </div>
                <div class="module-card">
                    <h3>Password Security</h3>
                    <ul>
                        <li>Password Hashing</li>
                        <li>bcrypt Implementation</li>
                        <li>Password Strength Requirements</li>
                    </ul>
                </div>
                <div class="module-card">
                    <h3>Session Management</h3>
                    <ul>
                        <li>Session Basics</li>
                        <li>Session Storage</li>
                        <li>Session Security</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>Authentication Fundamentals</h2>
            
            <div class="video-grid">
                <div class="video-card">
                    <div class="video-container">
                        <iframe src="https://fast.wistia.net/embed/iframe/ctn0dnz405" title="Authentication Fundamentals" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                    </div>
                    <h3>Authentication vs Authorization</h3>
                    <p><strong>Authentication</strong> is the process by which our Web API verifies a client's identity that is trying to access a resource. This is different from <strong>authorization</strong>, which comes after authentication and determines what type of access a user should have.</p>
                    
                    <p>Adding authentication to a Web API requires that an API can:</p>
                    <ul>
                        <li>Register user accounts</li>
                        <li>Login to prove identity</li>
                        <li>Logout of the system to invalidate the user's access until they log in again</li>
                        <li>Add a way for users to reset their passwords</li>
                    </ul>
                    
                    <p>Proper authentication is difficult. There is a constant race between security experts with innovative ways to protect our information and attackers coming up with ways to circumvent those security measures.</p>
                </div>
                
                <div class="video-card">
                    <div class="video-container">
                        <iframe src="https://fast.wistia.net/embed/iframe/lhgx4vxtxm" title="Password Security Best Practices" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                    </div>
                    <h3>Password Security</h3>
                    <p>The rule of thumb is: <strong>NEVER, EVER, under no circumstances, store user passwords in plain text</strong>. There are two main approaches to secure password storage:</p>
                    
                    <h4>Password Hashing vs. Encryption</h4>
                    <ul>
                        <li><strong>Encryption</strong> goes two ways. It utilizes plain text and private keys to generate encrypted passwords and then reverses the process to match an original password.</li>
                        <li><strong>Cryptographic hashing</strong> only goes one way: parameters + input = hash. It is pure; given the same parameters and input, it generates the same hash.</li>
                    </ul>
                    
                    <p>If the database of users and keys is compromised with encryption, it's possible to decrypt the passwords to their original values. <strong>This is why cryptographic hashing is the preferred method for storing user passwords.</strong></p>
                    
                    <h4>Code Example - Hashing with bcrypt:</h4>
                    <pre>
const bcrypt = require('bcryptjs');

// Hashing a password before saving to DB
async function registerUser(user) {
  const rounds = 8; // complexity/work factor
  const hash = await bcrypt.hash(user.password, rounds);
  
  // Store user with hashed password
  return saveUser({
    ...user,
    password: hash
  });
}</pre>
                </div>
                
                <div class="video-card">
                    <div class="video-container">
                        <iframe src="https://fast.wistia.net/embed/iframe/3yg5238eaw" title="Session Management" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                    </div>
                    <h3>Password Strength & Security</h3>
                    <p>Password length alone is not enough to slow password guessing, but long passwords are generally better than short, complicated ones. It's a trade-off between convenience and security.</p>
                    
                    <h4>Brute-Force Attack Mitigation</h4>
                    <p>A common way that attackers circumvent hashing algorithms is by pre-calculating hashes for all possible character combinations using a <strong>rainbow table</strong>. To defend against this, we use:</p>
                    
                    <p><strong>Key Derivation Functions</strong> = [Hash] + [Time]</p>
                    
                    <p>We use algorithms optimized for security rather than speed. This adds computational cost to password verification, making brute-force attacks much more time-consuming.</p>
                    
                    <h4>Code Example - Verifying passwords with bcrypt:</h4>
                    <pre>
const bcrypt = require('bcryptjs');

async function loginUser(username, password) {
  // Get user from database
  const user = await getUserByUsername(username);
  
  if (!user) {
    return null; // User not found
  }
  
  // Compare provided password with stored hash
  const isValid = await bcrypt.compare(password, user.password);
  
  if (isValid) {
    return user; // Password matches
  } else {
    return null; // Invalid password
  }
}</pre>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>Session Management</h2>
            
            <div class="video-grid">
                <div class="video-card">
                    <div class="video-container">
                        <iframe src="https://fast.wistia.net/embed/iframe/4zv6i69yos" title="Protected Routes and Authorization" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                    </div>
                    <h3>Protecting Routes - Middleware</h3>
                    <p>To restrict access to resources and allow access only for authenticated users, we can create middleware functions:</p>
                    
                    <h4>Code Example - Authentication middleware:</h4>
                    <pre>
// Middleware to check if user is authenticated
function restricted(req, res, next) {
  if (req.session && req.session.user) {
    next(); // User is authenticated, proceed
  } else {
    res.status(401).json({ 
      message: 'You must be logged in to access this resource' 
    });
  }
}

// Example of a protected route
app.get('/api/protected-resource', restricted, (req, res) => {
  res.json({ 
    message: 'You have access to this protected resource',
    user: req.session.user
  });
});

// Role-based authorization middleware
function checkRole(role) {
  return (req, res, next) => {
    if (req.session && req.session.user && req.session.user.role === role) {
      next();
    } else {
      res.status(403).json({ 
        message: 'Access forbidden: insufficient privileges' 
      });
    }
  };
}

// Admin-only route
app.get('/api/admin', restricted, checkRole('admin'), (req, res) => {
  res.json({ message: 'Admin dashboard data' });
});</pre>
                </div>
                
                <div class="video-card">
                    <div class="video-container">
                        <iframe src="https://fast.wistia.net/embed/iframe/5e2hrnzuu8" title="Session Based Authentication" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                    </div>
                    <h3>In-Memory Sessions</h3>
                    <p>Sessions are a way to persist authentication information across requests. After a user authenticates, the server creates a session and sends a session identifier to the client, which is then included in subsequent requests.</p>
                    
                    <h4>Code Example - Setting up express-session:</h4>
                    <pre>
const express = require('express');
const session = require('express-session');
const app = express();

app.use(session({
  name: 'session-cookie',
  secret: 'this should be stored in an env variable',
  cookie: {
    maxAge: 1000 * 60 * 60, // 1 hour in milliseconds
    secure: process.env.NODE_ENV === 'production', // use HTTPS in production
    httpOnly: true, // prevents client-side JS from reading the cookie
  },
  resave: false,
  saveUninitialized: false,
}));</pre>
                </div>
                
                <div class="video-card">
                    <div class="video-container">
                        <iframe src="https://fast.wistia.net/embed/iframe/6vj4tr1h28" title="Login/Logout Implementation" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                    </div>
                    <h3>Implementing Login and Logout</h3>
                    <p>Once we have session management set up, we can implement login and logout functionality:</p>
                    
                    <h4>Code Example - Login/Logout routes:</h4>
                    <pre>
// Login route
app.post('/api/login', async (req, res) => {
  const { username, password } = req.body;
  
  try {
    const user = await loginUser(username, password);
    
    if (user) {
      // Create session and store user info
      req.session.user = {
        id: user.id,
        username: user.username,
        role: user.role
      };
      res.status(200).json({ 
        message: 'Logged in successfully',
        user: req.session.user 
      });
    } else {
      res.status(401).json({ 
        message: 'Invalid credentials' 
      });
    }
  } catch (error) {
    res.status(500).json({ 
      message: 'Server error during login' 
    });
  }
});

// Logout route
app.get('/api/logout', (req, res) => {
  // Destroy the session
  if (req.session) {
    req.session.destroy(err => {
      if (err) {
        res.status(500).json({ message: 'Logout failed' });
      } else {
        res.status(200).json({ message: 'Logged out successfully' });
      }
    });
  } else {
    res.status(200).json({ message: 'No active session' });
  }
});</pre>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>Guided Project</h2>
            <div class="module-card">
                <h3>Authentication Implementation</h3>
                <p>Build a secure authentication system using Node.js and Express</p>
                <a href="https://github.com/bloominstituteoftechnology/node-auth1-guided" class="button" target="_blank" rel="noopener noreferrer">View Project</a>
            </div>
        </div>

        <div class="section">
            <h2>Resources</h2>
            <div class="module-grid">
                <div class="module-card">
                    <h3>Recommended Reading</h3>
                    <ul class="resource-link-list">
                        <li><a href="https://stackoverflow.com/questions/3804209/what-are-sessions-how-do-they-work" target="_blank" rel="noopener noreferrer">What are sessions?</a></li>
                        <li><a href="https://stackoverflow.com/questions/11142882/what-are-cookies-and-sessions-and-how-do-they-relate-to-each-other" target="_blank" rel="noopener noreferrer">How do sessions and cookies work together?</a></li>
                        <li><a href="https://github.com/expressjs/session#readme" target="_blank" rel="noopener noreferrer">Express-Session documentation</a></li>
                    </ul>
                </div>
                <div class="module-card">
                    <h3>Tools & Libraries</h3>
                    <ul>
                        <li>bcryptjs - For password hashing</li>
                        <li>express-session - For session management</li>
                        <li>client-sessions - Alternative session management library</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</body>
</html> 