<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>Objective 1 - Explain What Node.js Is and Its Core Features</title>
<meta name="identifier" content="g7bab78cf0a6f1f34d9154111c64b3ba1"/>
<meta name="editing_roles" content="teachers"/>
<meta name="workflow_state" content="active"/>
</head>
<body>
<p>&nbsp;</p>
<p><iframe class="wistia_embed" title="Nodejs Video" src="https://fast.wistia.net/embed/iframe/ct95ruopnk" width="640" height="360" name="wistia_embed" allow="autoplay; fullscreen" loading="lazy"></iframe></p>
<p>&nbsp;</p>
<h2 id="overview">Overview</h2>
<p><span>Traditionally, developers only used the JavaScript language in web browsers. But, in 2009, <strong>Node.js</strong> was unveiled, and with it, the developer tool kit expanded greatly. Node.js gave developers the chance to use JavaScript to write software that, up to that point, could only be written using C, C++, Java, Python, Ruby, C#, and the like.</span></p>
<p><span>We will use Node to write server code. Specifically, <strong>web service</strong>s that communicate with clients using the JavaScript Object Notation (JSON) format for data interchange.</span></p>
<p><span>Some of the advantages of using Node.js for writing server-side code are:</span></p>
<ul>
<li aria-level="1"><span>Node.js uses the same programming language (JavaScript) and paradigm for both client and server. Using the same language, we minimize context switching and share code between the client and the server.</span></li>
<li aria-level="1"><span>JavaScript is single-threaded, which removes the complexity involved in handling multiple threads.</span></li>
<li aria-level="1"><span>JavaScript is asynchronous, which allows us to take full advantage of the processor it's running on. Taking full advantage of the processor is crucial because the node process will be running on a single CPU.</span></li>
<li aria-level="1"><span>Using JavaScript gives us access to the npm repository. This repository is the largest ecosystem of valuable libraries (most free to use) in <strong>npm modules.</strong></span></li>
</ul>
<p>Some of the disadvantages of using Node.js for writing server-side code are:</p>
<ul>
<li aria-level="1"><span>By strictly using JavaScript on the server, we cannot use the right tool (a particular language) for the job.</span></li>
<li aria-level="1"><span>Because JavaScript is single-threaded, we can't take advantage of servers with multiple cores/processors.</span></li>
<li aria-level="1"><span>Because JavaScript is asynchronous, it is harder to learn for developers that have only worked with languages that default to synchronous operations that block the execution thread.</span></li>
<li aria-level="1"><span>In the npm repository, there are often too many packages that do the same thing. This excess of packages makes it harder to choose one and, in some cases, may introduce vulnerabilities into our code.</span></li>
</ul>
<p>To write a simple web server with <code>Node.js</code>:</p>
<ol>
<li>Use Node's <code>HTTP</code> module to abstract away complex network-related operations.</li>
<li aria-level="1"><span>Write the single <em><strong>request handler</strong></em> function to handle all requests to the server.</span></li>
</ol>
<p>The request handler is a function that takes the <code>request</code> coming from the client and produces the <code>response</code>. The function takes two arguments: 1) an object representing the <code>request</code> and 2) an object representing the <code>response</code>.</p>
<p><span>This process works, but the resulting code is verbose, even for the simplest of servers. Also, note that when using only Node.js to build a server, we use a single request handler function for all requests.</span></p>
<h2 id="follow-along">Follow Along</h2>
<p>Using only Node.js, let's write a simple web server that returns a message. Create a folder for the server and add an <code>index.js</code> file inside.</p>
<p>Next, add the following code to the <code>index.js</code> file:</p>
<pre style="background-image: none;  background-attachment: scroll;   background-color: #ffffff; border: 1px solid #c7cdd1; clear: none; color: #24292e; cursor: auto; direction: ltr; font-style: normal;   font-stretch: normal; font-size: 12px; line-height: 14.4px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; margin: 0px 0px 12px; padding: 9px; text-align: start; text-decoration: none; text-indent: 0px; white-space: pre-wrap; border-collapse: separate; border-spacing: 0px;      background-position: 0% 0%; background-repeat: repeat repeat;" data-hljs-language="javascript"><code style="background-image: none;  background-attachment: scroll;   background-color: rgba(0, 0, 0, 0); border: 0px none #24292e; font-style: normal;   font-stretch: normal; font-size: 16px; line-height: 19.200001px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; margin: 0px; padding: 0px; background-position: 0% 0%; background-repeat: repeat repeat;"><span style="border: 0px none #d73a49; color: #d73a49;">const</span> http = <span style="border: 0px none #e36209; color: #e36209;">require</span>(<span style="border: 0px none #032f62; color: #032f62;">"http"</span>); <span style="border: 0px none #6a737d; color: #6a737d;">// built in node.js module to handle http traffic</span><br><br><span style="border: 0px none #d73a49; color: #d73a49;">const</span> hostname = <span style="border: 0px none #032f62; color: #032f62;">"127.0.0.1"</span>; <span style="border: 0px none #6a737d; color: #6a737d;">// the local computer where the server is running</span><br><span style="border: 0px none #d73a49; color: #d73a49;">const</span> port = <span style="border: 0px none #005cc5; color: #005cc5;">3000</span>; <span style="border: 0px none #6a737d; color: #6a737d;">// a port we'll use to watch for traffic</span><br><br><span style="border: 0px none #d73a49; color: #d73a49;">const</span> server = http.<span style="border: 0px none #6f42c1; color: #6f42c1;">createServer</span>(<span>(<span>req, res</span>) =&gt;</span> {<br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="border: 0px none #6a737d; color: #6a737d;">// creates our server</span><br>&nbsp;&nbsp;&nbsp;&nbsp;res.<span>statusCode</span> = <span style="border: 0px none #005cc5; color: #005cc5;">200</span>; <span style="border: 0px none #6a737d; color: #6a737d;">// http status code returned to the client</span><br>&nbsp;&nbsp;&nbsp;&nbsp;res.<span style="border: 0px none #6f42c1; color: #6f42c1;">setHeader</span>(<span style="border: 0px none #032f62; color: #032f62;">"Content-Type"</span>, <span style="border: 0px none #032f62; color: #032f62;">"text/plain"</span>); <span style="border: 0px none #6a737d; color: #6a737d;">// inform the client that we'll be returning text</span><br>&nbsp;&nbsp;&nbsp;&nbsp;res.<span style="border: 0px none #6f42c1; color: #6f42c1;">end</span>(<span style="border: 0px none #032f62; color: #032f62;">"Hello World from Node\n"</span>); <span style="border: 0px none #6a737d; color: #6a737d;">// end the request and send a response with the specified message</span><br>});<br><br>server.<span style="border: 0px none #6f42c1; color: #6f42c1;">listen</span>(port, hostname, <span>() =&gt;</span> {<br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="border: 0px none #6a737d; color: #6a737d;">// start watching for connections on the port specified</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="border: 0px none #d73a49; color: #d73a49;">console</span>.<span style="border: 0px none #6f42c1; color: #6f42c1;">log</span>(<span style="border: 0px none #032f62; color: #032f62;">`Server running at http://<span style="border: 0px none #24292e; color: #24292e;">${hostname}</span>:<span style="border: 0px none #24292e; color: #24292e;">${port}</span>/`</span>);<br>});</code></pre>
<p>Now navigate to the folder in a terminal/console window and type: <code>node index.js</code> to execute your file. A message that reads "<em>Server running at http://127.0.0.1:3000</em>" should be displayed, and the server is now waiting for connections.</p>
<p>Open a browser and visit: <code>http://localhost:3000</code>. <code>localhost</code> and the IP address <code>127.0.0.1</code> point to the same thing: your local computer. The browser should show the message: "<em>Hello World from Node</em>". There you have it, your first web server, built from scratch using nothing but <code>Node.js</code>.</p>
<h2 id="challenge">Challenge</h2>
<p>Write a paragraph about what <code>Node.js</code> is and explain at least 3 of its core features.</p>
</body>
</html>