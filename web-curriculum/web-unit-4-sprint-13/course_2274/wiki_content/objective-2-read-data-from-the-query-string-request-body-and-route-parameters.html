<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>Objective 2 - Read Data From the Query String, Request Body, and Route Parameters</title>
<meta name="identifier" content="g8b9e5537674c3c61a7d66b731e0bbe41"/>
<meta name="editing_roles" content="teachers"/>
<meta name="workflow_state" content="active"/>
</head>
<body>
<p>&nbsp;</p>
<p><iframe class="wistia_embed" title="Reading Data From Requests Video" src="https://fast.wistia.net/embed/iframe/t8pn2didy8" width="640" height="360" name="wistia_embed" allow="autoplay; fullscreen" loading="lazy"></iframe></p>
<p>&nbsp;</p>
<h2 id="overview">Overview</h2>
<h3 id="reading-and-using-route-parameters">Reading and Using Route Parameters</h3>
<p>Let's revisit our <code>DELETE</code> endpoint.</p>
<pre style="background-image: none; background-attachment: scroll; background-color: #ffffff; border: 1px solid #c7cdd1; clear: none; color: #24292e; cursor: auto; direction: ltr; font-style: normal; font-stretch: normal; font-size: 12px; line-height: 14.4px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; margin: 0px 0px 12px; padding: 9px; text-align: start; text-decoration: none; text-indent: 0px; white-space: pre-wrap; border-collapse: separate; border-spacing: 0px; background-position: 0% 0%; background-repeat: repeat repeat;" data-hljs-language="javascript"><code style="background-image: none; background-attachment: scroll; background-color: rgba(0, 0, 0, 0); border: 0px none #24292e; font-style: normal; font-stretch: normal; font-size: 16px; line-height: 19.200001px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; margin: 0px; padding: 0px; background-position: 0% 0%; background-repeat: repeat repeat;">server.<span style="border: 0px none #6f42c1; color: #6f42c1;">delete</span>(<span style="border: 0px none #032f62; color: #032f62;">'/hobbits'</span>, <span>(<span>req, res</span>) =&gt;</span> {<br>&nbsp;&nbsp;res.<span style="border: 0px none #6f42c1; color: #6f42c1;">status</span>(<span style="border: 0px none #005cc5; color: #005cc5;">204</span>);<br>});</code></pre>
<p>How does the client let the API know which hobbit should be deleted or updated? One way, the one we'll use, is through <code>route parameters</code>. Let's add support for route parameters to our <code>DELETE</code> endpoint.</p>
<p>We define route parameters by adding it to the URL with a colon (<code>:</code>) in front of it. Express adds it to the <code>.params</code> property part of the request object. Let's see it in action:</p>
<pre style="background-image: none; background-attachment: scroll; background-color: #ffffff; border: 1px solid #c7cdd1; clear: none; color: #24292e; cursor: auto; direction: ltr; font-style: normal; font-stretch: normal; font-size: 12px; line-height: 14.4px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; margin: 0px 0px 12px; padding: 9px; text-align: start; text-decoration: none; text-indent: 0px; white-space: pre-wrap; border-collapse: separate; border-spacing: 0px; background-position: 0% 0%; background-repeat: repeat repeat;" data-hljs-language="javascript"><code style="background-image: none; background-attachment: scroll; background-color: rgba(0, 0, 0, 0); border: 0px none #24292e; font-style: normal; font-stretch: normal; font-size: 16px; line-height: 19.200001px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; margin: 0px; padding: 0px; background-position: 0% 0%; background-repeat: repeat repeat;">server.<span style="border: 0px none #6f42c1; color: #6f42c1;">delete</span>(<span style="border: 0px none #032f62; color: #032f62;">'/hobbits/:id'</span>, <span>(<span>req, res</span>) =&gt;</span> {<br>&nbsp;&nbsp;<span style="border: 0px none #d73a49; color: #d73a49;">const</span> id = req.<span>params</span>.<span>id</span>;<br>&nbsp;&nbsp;<span style="border: 0px none #6a737d; color: #6a737d;">// or we could destructure it like so: const { id } = req.params;</span><br>&nbsp;&nbsp;res.<span style="border: 0px none #6f42c1; color: #6f42c1;">status</span>(<span style="border: 0px none #005cc5; color: #005cc5;">200</span>).<span style="border: 0px none #6f42c1; color: #6f42c1;">json</span>({<br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="border: 0px none #005cc5; color: #005cc5;">url</span>: <span style="border: 0px none #032f62; color: #032f62;">`/hobbits/<span style="border: 0px none #24292e; color: #24292e;">${id}</span>`</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="border: 0px none #005cc5; color: #005cc5;">operation</span>: <span style="border: 0px none #032f62; color: #032f62;">`DELETE for hobbit with id <span style="border: 0px none #24292e; color: #24292e;">${id}</span>`</span>,<br>&nbsp;&nbsp;});<br>});</code></pre>
<p>This route handler will execute every <code>DELETE</code> for a URL that begins with <code>/hobbits/</code> followed by any value. So, <code>DELETE</code> requests to <code>/hobbits/123</code> and <code>/hobbits/frodo</code> will both trigger this request handler. The value passed after <code>/hobbits/</code> will end up as the <code>id</code> property on <code>req.params</code>.</p>
<p>The value for a route parameter will always be <code>string</code>, even if the value passed is numeric. When hitting <code>/hobbits/123</code> in our example, the type of <code>req.params.id</code> will be <code>string</code>.</p>
<p>Express routing has support for multiple route parameters. For example, defining a route URL that reads <code>/hobbits/:id/friends/:friendId</code>, will add properties for <code>id</code> and <code>friendId</code> to <code>req.params</code>.</p>
<h3 id="using-the-query-string">Using the Query String</h3>
<p>The query string is another strategy using the URL to pass information from clients to the server. The query string is structured as a set of key/value pairs. Each pair takes the form of <code>key=value</code>, and pairs are separated by an <code>&amp;</code>. To mark the beginning of the query string, we add <code>?</code> and the end of the URL, followed by the set of key/value pairs.</p>
<p>An example of a query string would be: <code>https://www.google.com/search?q=lambda&amp;tbo=1</code>. The query string portion is <code>?q=lambda&amp;tbo=1</code> and the key/value pairs are <code>q=lambda</code> and <code>tbo=1</code>.</p>
<p>Let's add sorting capabilities to our API. We'll provide a way for clients to hit our <code>/hobbits</code> and pass the field they want to use to sort the responses, and our API will sort the data by that field in ascending order.</p>
<p>Here's the new code for the <code>GET /hobbits</code> endpoint:</p>
<pre style="background-image: none; background-attachment: scroll; background-color: #ffffff; border: 1px solid #c7cdd1; clear: none; color: #24292e; cursor: auto; direction: ltr; font-style: normal; font-stretch: normal; font-size: 12px; line-height: 14.4px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; margin: 0px 0px 12px; padding: 9px; text-align: start; text-decoration: none; text-indent: 0px; white-space: pre-wrap; border-collapse: separate; border-spacing: 0px; background-position: 0% 0%; background-repeat: repeat repeat;" data-hljs-language="javascript"><code style="background-image: none; background-attachment: scroll; background-color: rgba(0, 0, 0, 0); border: 0px none #24292e; font-style: normal; font-stretch: normal; font-size: 16px; line-height: 19.200001px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; margin: 0px; padding: 0px; background-position: 0% 0%; background-repeat: repeat repeat;">server.<span style="border: 0px none #6f42c1; color: #6f42c1;">get</span>(<span style="border: 0px none #032f62; color: #032f62;">'/hobbits'</span>, <span>(<span>req, res</span>) =&gt;</span> {<br>&nbsp;&nbsp;<span style="border: 0px none #6a737d; color: #6a737d;">// query string parameters get added to req.query</span><br>&nbsp;&nbsp;<span style="border: 0px none #d73a49; color: #d73a49;">const</span> sortField = req.<span>query</span>.<span>sortby</span> || <span style="border: 0px none #032f62; color: #032f62;">'id'</span>;<br>&nbsp;&nbsp;<span style="border: 0px none #d73a49; color: #d73a49;">const</span> hobbits = [<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="border: 0px none #005cc5; color: #005cc5;">id</span>: <span style="border: 0px none #005cc5; color: #005cc5;">1</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="border: 0px none #005cc5; color: #005cc5;">name</span>: <span style="border: 0px none #032f62; color: #032f62;">'Samwise Gamgee'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="border: 0px none #005cc5; color: #005cc5;">id</span>: <span style="border: 0px none #005cc5; color: #005cc5;">2</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="border: 0px none #005cc5; color: #005cc5;">name</span>: <span style="border: 0px none #032f62; color: #032f62;">'Frodo Baggins'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;];<br><br>&nbsp;&nbsp;<span style="border: 0px none #6a737d; color: #6a737d;">// apply the sorting</span><br>&nbsp;&nbsp;<span style="border: 0px none #d73a49; color: #d73a49;">const</span> response = hobbits.<span style="border: 0px none #6f42c1; color: #6f42c1;">sort</span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span>(<span>a, b</span>) =&gt;</span> (a[sortField] &lt; b[sortField] ? -<span style="border: 0px none #005cc5; color: #005cc5;">1</span> : <span style="border: 0px none #005cc5; color: #005cc5;">1</span>)<br>&nbsp;&nbsp;);<br><br>&nbsp;&nbsp;res.<span style="border: 0px none #6f42c1; color: #6f42c1;">status</span>(<span style="border: 0px none #005cc5; color: #005cc5;">200</span>).<span style="border: 0px none #6f42c1; color: #6f42c1;">json</span>(response);<br>});</code></pre>
<p>Visit <code>localhost:8000/hobbits?sortby=name</code>, and the list should be sorted by <code>name</code>. Visit <code>localhost:8000/hobbits?sortby=id</code>, and the list should now be sorted by <code>id</code>. If no <code>sortby</code> parameter is provided, it should default to sorting by <code>id</code>.</p>
<p>To read values from the query string, we use the <code>req.query</code> object added by Express. There will be a key and a value in the <code>req.query</code> object for each key/value pair found in the query string.</p>
<p>The parameter's value will be of type <code>array</code> if more than one value is passed for the same key and <code>string</code> when only one value is passed. For example, in the query string <code>?id=123</code>, <code>req.query.id</code> will be a string, but for <code>?id=123&amp;id=234</code>, it will be an array.</p>
<p>Another gotcha is that the names of query string parameters are case sensitive, <code>sortby</code> and <code>sortBy</code> are two different parameters.</p>
<p><span>The rest of the code sorts the array before sending it back to the client.</span></p>
<h3 id="reading-data-from-the-request-body">Reading Data from the Request Body</h3>
<p>We begin by taking another look at the <code>POST /hobbits</code> endpoint. We need to read the hobbit's information to add it to the <code>hobbits</code> array. Let's do that next:</p>
<pre style="background-image: none; background-attachment: scroll; background-color: #ffffff; border: 1px solid #c7cdd1; clear: none; color: #24292e; cursor: auto; direction: ltr; font-style: normal; font-stretch: normal; font-size: 12px; line-height: 14.4px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; margin: 0px 0px 12px; padding: 9px; text-align: start; text-decoration: none; text-indent: 0px; white-space: pre-wrap; border-collapse: separate; border-spacing: 0px; background-position: 0% 0%; background-repeat: repeat repeat;" data-hljs-language="javascript"><code style="background-image: none; background-attachment: scroll; background-color: rgba(0, 0, 0, 0); border: 0px none #24292e; font-style: normal; font-stretch: normal; font-size: 16px; line-height: 19.200001px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; margin: 0px; padding: 0px; background-position: 0% 0%; background-repeat: repeat repeat;"><span style="border: 0px none #6a737d; color: #6a737d;">// add this code right after const server = express();</span><br>server.<span style="border: 0px none #6f42c1; color: #6f42c1;">use</span>(express.<span style="border: 0px none #6f42c1; color: #6f42c1;">json</span>());<br><br><span style="border: 0px none #d73a49; color: #d73a49;">let</span> hobbits = [<br>&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="border: 0px none #005cc5; color: #005cc5;">id</span>: <span style="border: 0px none #005cc5; color: #005cc5;">1</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="border: 0px none #005cc5; color: #005cc5;">name</span>: <span style="border: 0px none #032f62; color: #032f62;">'Bilbo Baggins'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="border: 0px none #005cc5; color: #005cc5;">age</span>: <span style="border: 0px none #005cc5; color: #005cc5;">111</span>,<br>&nbsp;&nbsp;},<br>&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="border: 0px none #005cc5; color: #005cc5;">id</span>: <span style="border: 0px none #005cc5; color: #005cc5;">2</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="border: 0px none #005cc5; color: #005cc5;">name</span>: <span style="border: 0px none #032f62; color: #032f62;">'Frodo Baggins'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="border: 0px none #005cc5; color: #005cc5;">age</span>: <span style="border: 0px none #005cc5; color: #005cc5;">33</span>,<br>&nbsp;&nbsp;},<br>];<br><span style="border: 0px none #d73a49; color: #d73a49;">let</span> nextId = <span style="border: 0px none #005cc5; color: #005cc5;">3</span>;<br><br><span style="border: 0px none #6a737d; color: #6a737d;">// and modify the post endpoint like so:</span><br>server.<span style="border: 0px none #6f42c1; color: #6f42c1;">post</span>(<span style="border: 0px none #032f62; color: #032f62;">'/hobbits'</span>, <span>(<span>req, res</span>) =&gt;</span> {<br>&nbsp;&nbsp;<span style="border: 0px none #d73a49; color: #d73a49;">const</span> hobbit = req.<span>body</span>;<br>&nbsp;&nbsp;hobbit.<span>id</span> = nextId++;<br><br>&nbsp;&nbsp;hobbits.<span style="border: 0px none #6f42c1; color: #6f42c1;">push</span>(hobbit);<br><br>&nbsp;&nbsp;res.<span style="border: 0px none #6f42c1; color: #6f42c1;">status</span>(<span style="border: 0px none #005cc5; color: #005cc5;">201</span>).<span style="border: 0px none #6f42c1; color: #6f42c1;">json</span>(hobbits);<br>});</code></pre>
<p><span>To make this work with the hobbits array, we first move it out of the get endpoint into the outer scope. Now we have access to it from all route handlers.</span></p>
<p><span>Then we define a variable for manual id generation. When using a database, this is not necessary as the database management system generates ids automatically.</span></p>
<p>To read data from the request body, we need to do two things:</p>
<ul>
<li>Add the line: <code>server.use(express.json());</code> after the express application has been created.</li>
<li>Read the data from the body property that Express adds to the request object. Express takes all the client's information from the body and makes it available as a nice JavaScript object.</li>
</ul>
<p><strong>Note that we are skipping data validation to keep this demo simple, but in a production application, you would validate before attempting to save it to the database.</strong></p>
<p>Let's test it using Postman:</p>
<ul>
<li>Change the method to POST.</li>
<li>Select the <code>Body</code> tab underneath the address bar.</li>
<li>Click on the <code>raw</code> radio button.</li>
<li>From the dropdown menu to the right of the <code>binary</code> radio button, select `JSON (application/json).</li>
<li>Add the following JSON object as the body:</li>
</ul>
<pre style="background-image: none;  background-attachment: scroll;   background-color: #ffffff; border: 1px solid #c7cdd1; clear: none; color: #24292e; cursor: auto; direction: ltr; font-style: normal;   font-stretch: normal; font-size: 12px; line-height: 14.4px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; margin: 0px 0px 12px; padding: 9px; text-align: start; text-decoration: none; text-indent: 0px; white-space: pre-wrap; border-collapse: separate; border-spacing: 0px;      background-position: 0% 0%; background-repeat: repeat repeat;" data-hljs-language="json"><code style="background-image: none;  background-attachment: scroll;   background-color: rgba(0, 0, 0, 0); border: 0px none #24292e; font-style: normal;   font-stretch: normal; font-size: 16px; line-height: 19.200001px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; margin: 0px; padding: 0px; background-position: 0% 0%; background-repeat: repeat repeat;"><span>{</span><br>&nbsp;&nbsp;<span style="border: 0px none #005cc5; color: #005cc5;">"name"</span><span>:</span> <span style="border: 0px none #032f62; color: #032f62;">"Samwise Gamgee"</span><span>,</span><br>&nbsp;&nbsp;<span style="border: 0px none #005cc5; color: #005cc5;">"age"</span><span>:</span> <span style="border: 0px none #005cc5; color: #005cc5;">30</span><br><span>}</span></code></pre>
<p>Click on <code>Send</code>, and the API should return the list of hobbits, including Sam!</p>
<h2 id="follow-along">Follow Along</h2>
<p><span>Please code along as we implement the <code>PUT</code> endpoint and a way for the client to specify the sort direction.</span></p>
<h3 id="implement-update-functionality">Implement Update Functionality</h3>
<p><span>Let's continue practicing reading route parameters and information from the request body. Let's take a look at our existing PUT endpoint:</span></p>
<pre style="background-image: none;  background-attachment: scroll;   background-color: #ffffff; border: 1px solid #c7cdd1; clear: none; color: #24292e; cursor: auto; direction: ltr; font-style: normal;   font-stretch: normal; font-size: 12px; line-height: 14.4px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; margin: 0px 0px 12px; padding: 9px; text-align: start; text-decoration: none; text-indent: 0px; white-space: pre-wrap; border-collapse: separate; border-spacing: 0px;      background-position: 0% 0%; background-repeat: repeat repeat;" data-hljs-language="javascript"><code style="background-image: none;  background-attachment: scroll;   background-color: rgba(0, 0, 0, 0); border: 0px none #24292e; font-style: normal;   font-stretch: normal; font-size: 16px; line-height: 19.200001px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; margin: 0px; padding: 0px; background-position: 0% 0%; background-repeat: repeat repeat;">server.<span style="border: 0px none #6f42c1; color: #6f42c1;">put</span>(<span style="border: 0px none #032f62; color: #032f62;">'/hobbits'</span>, <span>(<span>req, res</span>) =&gt;</span> {<br>&nbsp;&nbsp;res.<span style="border: 0px none #6f42c1; color: #6f42c1;">status</span>(<span style="border: 0px none #005cc5; color: #005cc5;">200</span>).<span style="border: 0px none #6f42c1; color: #6f42c1;">json</span>({ <span style="border: 0px none #005cc5; color: #005cc5;">url</span>: <span style="border: 0px none #032f62; color: #032f62;">'/hobbits'</span>, <span style="border: 0px none #005cc5; color: #005cc5;">operation</span>: <span style="border: 0px none #032f62; color: #032f62;">'PUT'</span> });<br>});</code></pre>
<p>We start by adding support for a route parameter the clients can use to specify the id of the hobbit they intend to update:</p>
<pre style="background-image: none;  background-attachment: scroll;   background-color: #ffffff; border: 1px solid #c7cdd1; clear: none; color: #24292e; cursor: auto; direction: ltr; font-style: normal;   font-stretch: normal; font-size: 12px; line-height: 14.4px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; margin: 0px 0px 12px; padding: 9px; text-align: start; text-decoration: none; text-indent: 0px; white-space: pre-wrap; border-collapse: separate; border-spacing: 0px;      background-position: 0% 0%; background-repeat: repeat repeat;" data-hljs-language="javascript"><code style="background-image: none;  background-attachment: scroll;   background-color: rgba(0, 0, 0, 0); border: 0px none #24292e; font-style: normal;   font-stretch: normal; font-size: 16px; line-height: 19.200001px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; margin: 0px; padding: 0px; background-position: 0% 0%; background-repeat: repeat repeat;">server.<span style="border: 0px none #6f42c1; color: #6f42c1;">put</span>(<span style="border: 0px none #032f62; color: #032f62;">'/hobbits/:id'</span>, <span>(<span>req, res</span>) =&gt;</span> {<br>&nbsp;&nbsp;res.<span style="border: 0px none #6f42c1; color: #6f42c1;">status</span>(<span style="border: 0px none #005cc5; color: #005cc5;">200</span>).<span style="border: 0px none #6f42c1; color: #6f42c1;">json</span>({ <span style="border: 0px none #005cc5; color: #005cc5;">url</span>: <span style="border: 0px none #032f62; color: #032f62;">'/hobbits'</span>, <span style="border: 0px none #005cc5; color: #005cc5;">operation</span>: <span style="border: 0px none #032f62; color: #032f62;">'PUT'</span> });<br>});</code></pre>
<p>Next, we read the hobbit information from the request body using <code>req.body</code> and use it to update the existing hobbit.</p>
<pre style="background-image: none;  background-attachment: scroll;   background-color: #ffffff; border: 1px solid #c7cdd1; clear: none; color: #24292e; cursor: auto; direction: ltr; font-style: normal;   font-stretch: normal; font-size: 12px; line-height: 14.4px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; margin: 0px 0px 12px; padding: 9px; text-align: start; text-decoration: none; text-indent: 0px; white-space: pre-wrap; border-collapse: separate; border-spacing: 0px;      background-position: 0% 0%; background-repeat: repeat repeat;" data-hljs-language="javascript"><code style="background-image: none;  background-attachment: scroll;   background-color: rgba(0, 0, 0, 0); border: 0px none #24292e; font-style: normal;   font-stretch: normal; font-size: 16px; line-height: 19.200001px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; margin: 0px; padding: 0px; background-position: 0% 0%; background-repeat: repeat repeat;">server.<span style="border: 0px none #6f42c1; color: #6f42c1;">put</span>(<span style="border: 0px none #032f62; color: #032f62;">'/hobbits/:id'</span>, <span>(<span>req, res</span>) =&gt;</span> {<br>&nbsp;&nbsp;<span style="border: 0px none #d73a49; color: #d73a49;">const</span> hobbit = hobbits.<span style="border: 0px none #6f42c1; color: #6f42c1;">find</span>(<span><span>h</span> =&gt;</span> h.<span>id</span> == req.<span>params</span>.<span>id</span>);<br><br>&nbsp;&nbsp;<span style="border: 0px none #d73a49; color: #d73a49;">if</span> (!hobbit) {<br>&nbsp;&nbsp;&nbsp;&nbsp;res.<span style="border: 0px none #6f42c1; color: #6f42c1;">status</span>(<span style="border: 0px none #005cc5; color: #005cc5;">404</span>).<span style="border: 0px none #6f42c1; color: #6f42c1;">json</span>({ <span style="border: 0px none #005cc5; color: #005cc5;">message</span>: <span style="border: 0px none #032f62; color: #032f62;">'Hobbit does not exist'</span> });<br>&nbsp;&nbsp;} <span style="border: 0px none #d73a49; color: #d73a49;">else</span> {<br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="border: 0px none #6a737d; color: #6a737d;">// modify the existing hobbit</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="border: 0px none #6f42c1; color: #6f42c1;">Object</span>.<span style="border: 0px none #6f42c1; color: #6f42c1;">assign</span>(hobbit, req.<span>body</span>);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;res.<span style="border: 0px none #6f42c1; color: #6f42c1;">status</span>(<span style="border: 0px none #005cc5; color: #005cc5;">200</span>).<span style="border: 0px none #6f42c1; color: #6f42c1;">json</span>(hobbit);<br>&nbsp;&nbsp;}<br>});</code></pre>
<p><span>Concentrate on the code related to reading the id from the <code>req.params</code> object and reading the hobbit information from <code>req.body</code>. The rest of the code will change as this is a simple example using an in-memory array. Most production APIs will use a database.</span></p>
<h2 id="challenge">Challenge</h2>
<p><span>For the following exercises, use the provided database helper functions inside <code>/data/db.js</code>&nbsp; to work with the database users.</span></p>
<p>Implement a <code>GET</code> endpoint that will accept an <code>id</code> as a route parameter and return the user corresponding to that <code>id</code>. If the user is not found, return the correct HTTP Status Code.</p>
<p><span>Implement all CRUD operations on users, including getting by ID.</span></p>
<p><span>Add sorting and pagination support to the GET all endpoints. For pagination, the client should supply the API with sorting information, the number of users per page, and the page number.</span></p>
</body>
</html>